<div class="col-md-6 col-lg-4">
  <div class="chart-wrapper">
    <div class="chart-title">
      {{tile.name}}
    </div>
    <div class="chart-stage">
        <div class="compare compare-before">
          <canvas id="{{tile.id}}-before" width="100" height="100"></canvas>
          <span class="chart-notes">{{tile.before_text | default: "Before"}}: {{tile.before}}%</span>
        </div>
        <div class="compare">
          <canvas id="{{tile.id}}-after" width="100" height="100"></canvas>
          <span class="chart-notes">{{tile.after_text | default: "After"}}: {{tile.datapoint}}%</span>
        </div>
    </div>
  </div>
</div>
<script>
var ctx = document.getElementById("{{tile.id}}-before");
var myChart = new Chart(ctx, {
    type: 'doughnut',
    data: {
        labels: ['Datapoint'],
        datasets: [{
            data: [ {{tile.before}}, {{ 100 | minus: tile.before }} ],
            backgroundColor: ['rgba(17,46,81,1)',
                              'rgba(17,46,81,0)'],
            borderColor: ['rgb(17,46,81,1)',
                          'rgba(17,46,81,0)'],
            hoverBackgroundColor: ['rgba(17,46,81,1)',
                              'rgba(17,46,81,0)'],
            hoverBorderColor: ['rgb(17,46,81)',
                          'rgba(17,46,81,0)']
        }]
    },
    options: {
        responsive: false,
        legend: {
          display: false
        },
    }
});
var ctx = document.getElementById("{{tile.id}}-after");
var myChart = new Chart(ctx, {
    type: 'doughnut',
    data: {
        labels: ['Datapoint'],
        datasets: [{
            data: [ {{tile.datapoint}}, {{ 100 | minus: tile.datapoint }} ],
            backgroundColor: ['rgba(17,46,81,1)',
                              'rgba(17,46,81,0)'],
            borderColor: ['rgb(17,46,81,1)',
                          'rgba(17,46,81,0)'],
            hoverBackgroundColor: ['rgba(17,46,81,1)',
                                   'rgba(17,46,81,0)'],
            hoverBorderColor: ['rgb(17,46,81)',
                          'rgba(17,46,81,0)']
        }]
    },
    options: {
        responsive: false,
        legend: {
          display: false
        },
    }
});
</script>
